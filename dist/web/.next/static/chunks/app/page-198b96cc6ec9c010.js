(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3258:function(e,a,t){Promise.resolve().then(t.bind(t,5939))},5939:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return x}});var r=t(7821),n=t(9909),s=t(2419),i=t(7630),d=t(1092),o=t(8078),m=t(2090),u=JSON.parse('{"address":"G1ZkRWTyM46zZQjZ1U721iRtp7Rr14fBFhR5GHGcvHZB","metadata":{"name":"solwin","version":"0.1.0","spec":"0.1.0","description":"Created with Anchor"},"instructions":[{"name":"burn_token","discriminator":[185,165,216,246,144,31,70,74],"accounts":[{"name":"mint","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,105,110,116,51,50]}]}},{"name":"payer_mint_ata","writable":true,"pda":{"seeds":[{"kind":"account","path":"payer"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"payer","writable":true,"signer":true},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"amount","type":"u64"}]},{"name":"buy_ticket","discriminator":[11,24,17,193,168,116,164,169],"accounts":[{"name":"lottery","writable":true},{"name":"round","writable":true},{"name":"ticket","writable":true},{"name":"buyer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"lottery_id","type":"u32"},{"name":"round_id","type":"u32"}]},{"name":"close_round","discriminator":[149,14,81,88,230,226,234,37],"accounts":[{"name":"lottery","writable":true},{"name":"round","writable":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"lottery_id","type":"u32"},{"name":"round_id","type":"u32"}]},{"name":"create_solwin_app","discriminator":[144,116,222,16,237,186,180,154],"accounts":[{"name":"vault","docs":["Vault"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116,51,50]}]}},{"name":"user","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"metadata","docs":["Token"],"writable":true},{"name":"mint","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,105,110,116,51,50]}]}},{"name":"payer","writable":true,"signer":true},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"token_metadata_program","address":"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"}],"args":[{"name":"metadata","type":{"defined":{"name":"InitTokenParams"}}}]},{"name":"create_token","discriminator":[84,52,204,228,24,140,234,75],"accounts":[{"name":"metadata","writable":true},{"name":"mint","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,105,110,116,51,50]}]}},{"name":"payer","writable":true,"signer":true},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"token_metadata_program","address":"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"}],"args":[{"name":"metadata","type":{"defined":{"name":"InitTokenParams"}}}]},{"name":"deposit_solwin","discriminator":[71,165,82,27,228,197,156,231],"accounts":[{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116,51,50]}]}},{"name":"user","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"amount","type":"u64"}]},{"name":"deposit_solwin_app","discriminator":[37,195,35,70,1,3,172,193],"accounts":[{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116,51,50]}]}},{"name":"user","writable":true,"signer":true},{"name":"mint","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,105,110,116,51,50]}]}},{"name":"payer_mint_ata","writable":true,"pda":{"seeds":[{"kind":"account","path":"payer"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"payer","writable":true,"signer":true},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"amount","type":"u64"}]},{"name":"f_claim_rewards","discriminator":[46,151,38,40,136,96,230,59],"accounts":[{"name":"lottery","writable":true},{"name":"user","writable":true,"signer":true},{"name":"user_data","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,51,50]},{"kind":"account","path":"lottery.id","account":"FLottery"},{"kind":"account","path":"signer"}]}},{"name":"signer","writable":true,"signer":true},{"name":"mint","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,105,110,116,51,50]}]}},{"name":"payer_mint_ata","writable":true,"pda":{"seeds":[{"kind":"account","path":"payer"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"payer","writable":true,"signer":true},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[]},{"name":"f_close_round","discriminator":[76,211,215,2,213,205,239,227],"accounts":[{"name":"lottery","writable":true},{"name":"round","writable":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"closer_data","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,51,50]},{"kind":"account","path":"lottery.id","account":"FLottery"},{"kind":"account","path":"signer"}]}},{"name":"authority","writable":true,"signer":true},{"name":"signer","signer":true},{"name":"next_round","writable":true}],"args":[{"name":"lottery_id","type":"u32"},{"name":"round_id","type":"u32"}]},{"name":"f_deposit","discriminator":[125,122,115,175,166,150,59,162],"accounts":[{"name":"lottery","writable":true},{"name":"vault","writable":true},{"name":"user","writable":true,"signer":true},{"name":"user_data","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,51,50]},{"kind":"account","path":"lottery.id","account":"FLottery"},{"kind":"account","path":"signer"}]}},{"name":"signer","writable":true,"signer":true},{"name":"mint","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,105,110,116,51,50]}]}},{"name":"payer_mint_ata","writable":true,"pda":{"seeds":[{"kind":"account","path":"payer"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"payer","writable":true,"signer":true},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"lottery_id","type":"u32"},{"name":"amount","type":"u64"}]},{"name":"f_initialize_lottery","discriminator":[130,18,97,254,171,194,111,71],"accounts":[{"name":"master_lottery","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,97,115,116,101,114,95,108,111,116,116,101,114,121,51,50]}]}},{"name":"vault","writable":true},{"name":"lottery","writable":true},{"name":"authority","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"user","writable":true,"signer":true}],"args":[{"name":"ticket_price","type":"u64"},{"name":"round_duration","type":"i64"},{"name":"round_close_slot","type":"i64"}]},{"name":"f_initialize_round","discriminator":[171,70,194,94,189,29,97,31],"accounts":[{"name":"round","writable":true},{"name":"lottery","writable":true},{"name":"authority","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"f_initialize_solwin","discriminator":[143,97,136,142,26,62,127,133],"accounts":[{"name":"user","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"master_lottery","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,97,115,116,101,114,95,108,111,116,116,101,114,121,51,50]}]}},{"name":"metadata","docs":["Token"],"writable":true},{"name":"mint","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,105,110,116,51,50]}]}},{"name":"payer","writable":true,"signer":true},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"token_metadata_program","address":"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"}],"args":[{"name":"metadata","type":{"defined":{"name":"InitTokenParams"}}}]},{"name":"f_take_ticket","discriminator":[222,135,105,175,244,16,181,209],"accounts":[{"name":"lottery","writable":true},{"name":"round","writable":true},{"name":"ticket","writable":true},{"name":"buyer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"user_data","writable":true}],"args":[{"name":"lottery_id","type":"u32"},{"name":"round_id","type":"u32"}]},{"name":"f_withdraw","discriminator":[71,91,209,224,64,102,4,179],"accounts":[{"name":"lottery","writable":true},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116,51,50]},{"kind":"account","path":"lottery.id","account":"FLottery"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_data","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,51,50]},{"kind":"account","path":"lottery.id","account":"FLottery"},{"kind":"account","path":"signer"}]}},{"name":"signer","writable":true,"signer":true},{"name":"mint","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,105,110,116,51,50]}]}},{"name":"payer_mint_ata","writable":true,"pda":{"seeds":[{"kind":"account","path":"payer"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"payer","writable":true,"signer":true},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"lottery_id","type":"u32"},{"name":"amount","type":"u64"}]},{"name":"generate_xorshift32","discriminator":[6,150,132,192,178,95,230,92],"accounts":[{"name":"rng_account","writable":true}],"args":[],"returns":"u32"},{"name":"generate_xorshift64","discriminator":[121,42,217,127,230,66,248,168],"accounts":[{"name":"rng_account","writable":true}],"args":[],"returns":"u64"},{"name":"generate_xorshift64_f64","discriminator":[221,241,94,43,174,252,23,183],"accounts":[{"name":"rng_account","writable":true}],"args":[],"returns":"f64"},{"name":"get_exchange_rate","discriminator":[153,76,17,194,170,215,89,142],"accounts":[{"name":"reserve_account"}],"args":[],"returns":"u64"},{"name":"init_xorshift","discriminator":[200,212,178,199,43,55,162,5],"accounts":[{"name":"rng_account","writable":true,"signer":true},{"name":"user","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"seed32","type":"u32"},{"name":"seed64","type":"u64"}]},{"name":"initialize_lottery","discriminator":[113,199,243,247,73,217,33,11],"accounts":[{"name":"lottery","writable":true},{"name":"master_lottery","writable":true},{"name":"authority","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"ticket_price","type":"u64"},{"name":"round_duration","type":"i64"},{"name":"round_close_slot","type":"i64"}]},{"name":"initialize_master_lottery","discriminator":[230,251,20,10,95,194,15,34],"accounts":[{"name":"master_lottery","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,97,115,116,101,114,95,108,111,116,116,101,114,121,51,50]}]}},{"name":"payer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"initialize_round","discriminator":[43,135,19,93,14,225,131,188],"accounts":[{"name":"round","writable":true},{"name":"lottery","writable":true},{"name":"authority","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"initialize_solwin","discriminator":[129,38,131,12,164,70,103,134],"accounts":[{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116,51,50]}]}},{"name":"user","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"mint_token","discriminator":[172,137,183,14,207,110,234,56],"accounts":[{"name":"mint","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,105,110,116,51,50]}]}},{"name":"payer_mint_ata","writable":true,"pda":{"seeds":[{"kind":"account","path":"payer"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"payer","writable":true,"signer":true},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"amount","type":"u64"}]},{"name":"withdraw_solwin","discriminator":[30,155,238,214,220,144,9,191],"accounts":[{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116,51,50]}]}},{"name":"user","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"amount","type":"u64"}]},{"name":"withdraw_solwin_app","discriminator":[185,211,253,30,170,85,18,25],"accounts":[{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116,51,50]}]}},{"name":"user","writable":true,"signer":true},{"name":"mint","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,105,110,116,51,50]}]}},{"name":"payer_mint_ata","writable":true,"pda":{"seeds":[{"kind":"account","path":"payer"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"payer","writable":true,"signer":true},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"amount","type":"u64"}]}],"accounts":[{"name":"FLottery","discriminator":[134,109,151,21,221,59,47,177]},{"name":"FMasterLottery","discriminator":[239,219,252,34,153,89,111,131]},{"name":"FRound","discriminator":[147,82,213,144,218,41,104,153]},{"name":"FTicket","discriminator":[250,164,116,219,41,39,170,222]},{"name":"FVault","discriminator":[95,27,165,136,239,243,172,199]},{"name":"Lottery","discriminator":[162,182,26,12,164,214,112,3]},{"name":"MasterLottery","discriminator":[66,171,237,152,10,184,77,116]},{"name":"RngAccount","discriminator":[21,194,30,140,238,67,180,10]},{"name":"Round","discriminator":[87,127,165,51,73,78,116,174]},{"name":"Ticket","discriminator":[41,228,24,165,78,90,235,200]},{"name":"UserData","discriminator":[139,248,167,203,253,220,210,221]},{"name":"Vault","discriminator":[211,8,232,43,2,152,117,119]}],"errors":[{"code":6000,"name":"WinnerAlreadyExists","msg":"Winner already exists"},{"code":6001,"name":"RoundNotOpen","msg":"Round not open"},{"code":6002,"name":"InvalidLotteryId","msg":"Invalid lottery id"},{"code":6003,"name":"InvalidRoundId","msg":"Invalid round id"},{"code":6004,"name":"RoundNotCloseable","msg":"Round not closeable"},{"code":6005,"name":"InvalidAccount","msg":"Invalid lottery account"},{"code":6006,"name":"NotUserDataOWner","msg":"Signer not user data owner"},{"code":6007,"name":"NotEnoughCredits","msg":"Not enough credits"},{"code":6008,"name":"WinnerDataNotFound","msg":"Winner Data Not Found"},{"code":6009,"name":"RoundCreationFailed","msg":"Round Creation Failed"},{"code":6010,"name":"WinnerTicketNotFound","msg":"Winner Ticket Not Found"}],"types":[{"name":"FLottery","type":{"kind":"struct","fields":[{"name":"id","type":"u32"},{"name":"authority","type":"pubkey"},{"name":"ticket_price","type":"u64"},{"name":"last_round_id","type":"u32"},{"name":"round_duration","type":"i64"},{"name":"round_close_slot","type":"i64"},{"name":"bump","type":"u8"}]}},{"name":"FMasterLottery","type":{"kind":"struct","fields":[{"name":"last_lottery_id","type":"u32"}]}},{"name":"FRound","type":{"kind":"struct","fields":[{"name":"id","type":"u32"},{"name":"authority","type":"pubkey"},{"name":"lottery_id","type":"u32"},{"name":"ticket_price","type":"u64"},{"name":"last_ticket_id","type":"u32"},{"name":"start_time","type":"i64"},{"name":"close_target","type":"i64"},{"name":"min_close_time","type":"i64"},{"name":"max_close_time","type":"i64"},{"name":"status","type":{"defined":{"name":"FRoundStatus"}}},{"name":"winner_id","type":{"option":"u32"}},{"name":"reward","type":"u64"}]}},{"name":"FRoundStatus","type":{"kind":"enum","variants":[{"name":"Init"},{"name":"Open"},{"name":"Finished"},{"name":"Closed"}]}},{"name":"FTicket","type":{"kind":"struct","fields":[{"name":"id","type":"u32"},{"name":"lottery_id","type":"u32"},{"name":"round_id","type":"u32"},{"name":"authority","type":"pubkey"},{"name":"winner_reward","type":"u64"},{"name":"claimed","type":"bool"}]}},{"name":"FVault","type":{"kind":"struct","fields":[{"name":"sol_balance","type":"u64"},{"name":"token_balance","type":"u64"}]}},{"name":"InitTokenParams","type":{"kind":"struct","fields":[{"name":"name","type":"string"},{"name":"symbol","type":"string"},{"name":"uri","type":"string"},{"name":"decimals","type":"u8"}]}},{"name":"Lottery","type":{"kind":"struct","fields":[{"name":"id","type":"u32"},{"name":"authority","type":"pubkey"},{"name":"ticket_price","type":"u64"},{"name":"last_round_id","type":"u32"},{"name":"round_duration","type":"i64"},{"name":"round_close_slot","type":"i64"}]}},{"name":"MasterLottery","type":{"kind":"struct","fields":[{"name":"last_lottery_id","type":"u32"}]}},{"name":"RngAccount","type":{"kind":"struct","fields":[{"name":"xorshift32","type":{"defined":{"name":"Xorshift32"}}},{"name":"xorshift64","type":{"defined":{"name":"Xorshift64"}}}]}},{"name":"Round","type":{"kind":"struct","fields":[{"name":"id","type":"u32"},{"name":"authority","type":"pubkey"},{"name":"lottery_id","type":"u32"},{"name":"ticket_price","type":"u64"},{"name":"last_ticket_id","type":"u32"},{"name":"start_time","type":"i64"},{"name":"close_target","type":"i64"},{"name":"min_close_time","type":"i64"},{"name":"max_close_time","type":"i64"},{"name":"status","type":{"defined":{"name":"RoundStatus"}}},{"name":"winner_id","type":{"option":"u32"}}]}},{"name":"RoundStatus","type":{"kind":"enum","variants":[{"name":"Init"},{"name":"Open"},{"name":"Finished"},{"name":"Closed"}]}},{"name":"Ticket","type":{"kind":"struct","fields":[{"name":"id","type":"u32"},{"name":"lottery_id","type":"u32"},{"name":"round_id","type":"u32"},{"name":"authority","type":"pubkey"}]}},{"name":"UserData","type":{"kind":"struct","fields":[{"name":"credits","type":"u64"},{"name":"rewards","type":"u64"},{"name":"owner","type":"pubkey"}]}},{"name":"Vault","type":{"kind":"struct","fields":[{"name":"sol_balance","type":"u64"},{"name":"token_balance","type":"u64"}]}},{"name":"Xorshift32","type":{"kind":"struct","fields":[{"name":"state","type":"u32"}]}},{"name":"Xorshift64","type":{"kind":"struct","fields":[{"name":"state","type":"u64"}]}}]}'),l=t(8379),c=t(7485),p=t(6593).Buffer;let y=e=>{let{swBalance:a,program:t,lotteryPda:n,userDataPda:s,roundPda:o}=e,u=(0,i.O)(),l=async()=>{let e=new m.BN(1),a=new m.BN(1);new m.BN(a+1);let r=(await t.account.fRound.fetch(o)).lastTicketId,i=new m.BN(r+1),[l,c]=await d.PublicKey.findProgramAddressSync([p.from("ticket36"),i.toArrayLike(p,"le",4)],t.programId);console.log("Claimed tickets",await t.methods.fTakeTicket(e,a).accounts({lottery:n,round:o,ticket:l,buyer:u.publicKey,system_program:d.SystemProgram.programId,userData:s}).rpc())};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("button",{className:"btn btn-secondary ".concat(!a&&"btn-disabled"),onClick:l,children:"Claim tickets"})})};var b=t(6593).Buffer;let _=e=>{let{canClose:a,program:t,lotteryPda:n,userDataPda:s,roundPda:o}=e,u=(0,i.O)(),l=async()=>{let e=new m.BN(1),a=new m.BN(1),r=new m.BN(a+1),[i,l]=m.rV.PublicKey.findProgramAddressSync([b.from("round36"),r.toArrayLike(b,"le",4)],t.programId);console.log("Closed round :",await t.methods.fCloseRound(e,a).accounts({lottery:n,round:o,system_program:d.SystemProgram.programId,closerData:s,authority:u.publicKey,signer:u.publicKey,nextRound:i}).rpc())};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("button",{className:"btn btn-secondary ".concat(!a&&"btn-disabled"),onClick:l,children:"Close round"})})};var g=t(6593).Buffer;let k=e=>Math.round(e/d.LAMPORTS_PER_SOL*1e5)/1e5,w=()=>{let e;let a=(0,l.useAnchorProvider)(),t=(0,i.O)(),[n,p]=(0,o.useState)("deposit"),[b,w]=(0,o.useState)(""),h=new m.BN(1),v=new m.$r(u,a),f=new m.BN(1),[x,N]=m.rV.PublicKey.findProgramAddressSync([g.from("round36"),f.toArrayLike(g,"le",4)],v.programId),[j]=m.rV.PublicKey.findProgramAddressSync([g.from("lottery32"),h.toArrayLike(g,"le",4)],v.programId),[A]=m.rV.PublicKey.findProgramAddressSync([g.from("vault32"),h.toArrayLike(g,"le",4)],v.programId),[P]=m.rV.PublicKey.findProgramAddressSync([g.from("mint32")],v.programId);t.publicKey&&([e]=m.rV.PublicKey.findProgramAddressSync([g.from("user32"),h.toArrayLike(g,"le",4),t.publicKey.toBuffer()],v.programId));let{publicKey:S}=(0,i.O)(),{data:R}=(0,s.L5)({address:S}),{data:T}=(0,s.ep)({address:S}),{swSolBalance:L}=(0,o.useMemo)(()=>{if(!T)return{};let e=T.find(e=>"H6dN2G5K5oHACaUx4pA8JT8MF8jjAtAdJiizXfb5x25"===e.account.data.parsed.info.mint),a={wSolBalance:void 0,swSolBalance:void 0};return e&&(a.swSolBalance=e.account.data.parsed.info.tokenAmount),a},[T]),W=async()=>{if(S&&a)try{let a=await m.P6.token.associatedAddress({mint:P,owner:t.publicKey}),r=parseFloat(b)*d.LAMPORTS_PER_SOL,s=new m.BN(r);if("deposit"===n){let r=await v.methods.fDeposit(h,s).accounts({lottery:j,vault:A,user:t.publicKey,user_data:e,signer:t.publicKey,mint:P,payer_mint_ata:a,payer:t.publicKey,rent:m.rV.SYSVAR_RENT_PUBKEY,system_program:m.rV.SystemProgram.programId,token_program:m.P6.token.TOKEN_PROGRAM_ID,associated_token_program:m.P6.token.ASSOCIATED_PROGRAM_ID}).rpc();console.log("Deposit",r)}else{let r=await v.methods.fWithdraw(h,s).accounts({lottery:j,vault:A,user:t.publicKey,user_data:e,mint:P,payer_mint_ata:a,payer:t.publicKey,rent:m.rV.SYSVAR_RENT_PUBKEY,system_program:m.rV.SystemProgram.programId,token_program:m.P6.token.TOKEN_PROGRAM_ID,associated_token_program:m.P6.token.ASSOCIATED_PROGRAM_ID}).rpc();console.log("Withdraw",r)}w(""),c.ZP.success("Transaction success !")}catch(e){c.ZP.error("An error occured")}};return(0,r.jsx)("div",{className:"card bg-base-100 w-96 shadow-xl",children:(0,r.jsxs)("div",{className:"card-body gap-8",children:[(0,r.jsxs)("div",{role:"tablist",className:"tabs tabs-lifted tabs-lg",children:[(0,r.jsx)("a",{role:"tab",className:"tab ".concat("deposit"===n&&"tab-active"),onClick:()=>{w(""),p("deposit")},children:"Deposit"}),(0,r.jsx)("a",{role:"tab",className:"tab ".concat("withdraw"===n&&"tab-active"),onClick:()=>{w(""),p("withdraw")},children:"Withdraw"})]}),(0,r.jsxs)("label",{className:"input input-bordered input-lg flex items-center pr-2",children:[(0,r.jsx)("input",{type:"text",className:"grow",placeholder:"Amount",value:b,onChange:e=>{w(e.target.value)}}),(0,r.jsx)("button",{className:"btn btn-secondary",onClick:()=>{"deposit"===n?w((R/d.LAMPORTS_PER_SOL).toString()):w(L.uiAmount)},children:"MAX"})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("h3",{children:"Balances :"}),(0,r.jsxs)("div",{className:"flex justify-between",children:[!!R&&(0,r.jsxs)("span",{children:[k(R)," SOL"]}),!!L&&(0,r.jsxs)("span",{children:[L.uiAmount," swSOL"]})]})]}),(0,r.jsx)("button",{className:"btn btn-secondary",onClick:W,children:n.toUpperCase()}),(0,r.jsx)("p",{className:"text-center",children:"Chances impact: +0.00%"}),(0,r.jsx)(y,{swBalance:L,program:v,roundPda:x,lotteryPda:j,userDataPda:e}),(0,r.jsx)(_,{canClose:!1,program:v,roundPda:x,lotteryPda:j,userDataPda:e})]})})};function h(){let e=new Date,a=new Date(e);return a.setHours(24,0,0,0),Math.floor((a.getTime()-e.getTime())/1e3)}let v=()=>{let[e,a]=(0,o.useState)(0);return(0,o.useEffect)(()=>{a(h());let t=setInterval(()=>{e?a(e-1):a(h())},1e3);return()=>clearInterval(t)},[e]),(0,r.jsxs)("span",{className:"countdown",children:[(0,r.jsx)("span",{style:{"--value":Math.floor(e/3600)}}),"h",(0,r.jsx)("span",{style:{"--value":Math.floor(e%3600/60)}}),"m",(0,r.jsx)("span",{style:{"--value":e%60}}),"s"]})},f=()=>(0,r.jsx)("div",{className:"card bg-base-100 shadow-xl",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsx)("h2",{className:"card-title justify-center font-bold underline",children:"Draws"}),(0,r.jsxs)("div",{className:"flex flex-col justify-around h-full gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-center underline font-bold mb-2",children:"Next"}),(0,r.jsx)("div",{className:"stats shadow w-full",children:(0,r.jsxs)("div",{className:"join join-vertical w-full",children:[(0,r.jsxs)("div",{className:"join-item flex",children:[(0,r.jsxs)("div",{className:"stat",style:{borderRightWidth:"1px"},children:[(0,r.jsx)("div",{className:"stat-title",children:"Time left"}),(0,r.jsx)("div",{className:"stat-value",children:(0,r.jsx)(v,{})})]}),(0,r.jsxs)("div",{className:"stat w-2/6",children:[(0,r.jsx)("div",{className:"stat-title",children:"Your chances"}),(0,r.jsx)("div",{className:"stat-value",children:"10.0%"})]})]}),(0,r.jsxs)("div",{className:"join-item flex",style:{borderTopWidth:"1px"},children:[(0,r.jsxs)("div",{className:"stat",style:{borderRightWidth:"1px"},children:[(0,r.jsx)("div",{className:"stat-title",children:"Reward"}),(0,r.jsx)("div",{className:"stat-value",children:"~1.5 SOL"})]}),(0,r.jsxs)("div",{className:"stat w-2/6",children:[(0,r.jsx)("div",{className:"stat-title",children:"Participants"}),(0,r.jsx)("div",{className:"stat-value",children:"4,620"})]})]})]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-center underline font-bold mb-2",children:"Last"}),(0,r.jsx)("div",{className:"stats shadow w-full",children:(0,r.jsxs)("div",{className:"join join-vertical w-full",children:[(0,r.jsx)("div",{className:"join-item",children:(0,r.jsxs)("div",{className:"stat",children:[(0,r.jsx)("div",{className:"stat-title",children:"Winner"}),(0,r.jsx)("div",{className:"stat-value text-center",children:"abcd...wxyz"})]})}),(0,r.jsxs)("div",{className:"join-item flex",style:{borderTopWidth:"1px"},children:[(0,r.jsxs)("div",{className:"stat",style:{borderRightWidth:"1px"},children:[(0,r.jsx)("div",{className:"stat-title",children:"Reward"}),(0,r.jsx)("div",{className:"stat-value",children:"1 SOL"})]}),(0,r.jsxs)("div",{className:"stat",children:[(0,r.jsx)("div",{className:"stat-title",children:"Participants"}),(0,r.jsx)("div",{className:"stat-value",children:"4,200"})]})]})]})})]})]})]})});function x(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(n.AppHero,{title:"SolWin",subtitle:"The only lottery where you can't loose !"}),(0,r.jsxs)("div",{className:"flex grow gap-8",children:[(0,r.jsx)(w,{}),(0,r.jsx)(f,{})]})]})}}},function(e){e.O(0,[163,7,983,824,196,422,115,141,744],function(){return e(e.s=3258)}),_N_E=e.O()}]);